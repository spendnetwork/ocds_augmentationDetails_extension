# ocds_augmentationDetails_extension

A detailed extension to describe any modified or generated fields. This includes metadata around them such as the generation method and measure of confidence.
This is currently set up to either flag fields within the same release which have been modified, using JSONPath to indicate the location, or to reference an external document by OCID which could be related. 
Use cases here could be flagging possible duplicates of the same document published across different sources, or indicating possible connections between different phases of procurement which are published across different sources.


## Guidance

The extension field of `augmentationMetadata` is added at the release level and used to reference altered fields within the release, or OCIDs of related documents. 
Below shows a worked example of this extension with several augmented fields and an item for flagging possible duplicates.
References to altered fields within the same release are indicated using JSONPath. 

## Example

```json
{
      "ocid": "ocds-0c46vo-0001-3e4e6e91-f16f-4366-9029-bd876b32c2b1",
      "id": "ocds-b5fd17-781e2159-4eac-4b06-b783-014b21b42d18-432831-tender_229595-956877-sn-augmented",
      "date": "2021-04-30T08:36:08Z",
      "initiationType": "tender",
      "tag": [
        "award"
      ],
      "tender": {
        "id": "tender_229595/956877",
        "items": [
          {
            "id": "sn-augmented-cpvs",
            "additionalClassifications": [
              {
                "id": "63520000",
                "uri": "http://cpv.data.ac.uk/code-63520000.html",
                "scheme": "CPV",
                "description": "Transport agency services"
              },
              {
                "id": "60170000",
                "uri": "http://cpv.data.ac.uk/code-60170000.html",
                "scheme": "CPV",
                "description": "Hire of passenger transport vehicles with driver"
              },
              {
                "id": "63510000",
                "uri": "http://cpv.data.ac.uk/code-63510000.html",
                "scheme": "CPV",
                "description": "Travel agency and similar services"
              },
              {
                "id": "66510000",
                "uri": "http://cpv.data.ac.uk/code-66510000.html",
                "scheme": "CPV",
                "description": "Insurance services"
              },
              {
                "id": "60410000",
                "uri": "http://cpv.data.ac.uk/code-60410000.html",
                "scheme": "CPV",
                "description": "Scheduled air transport services"
              }
            ]
          }
        ]
      },
      "parties": [
        {
          "id": "c1a91c383cde7e8d5469af1088bfcff2",
          "address": {
            "region": "England",
            "locality": "Greater London",
            "postalCode": "W12 7TQ",
            "countryName": "GB",
            "streetAddress": "201 Wood Lane",
            "ocds_id": "c1a91c383cde7e8d5469af1088bfcff2"
          },
          "name": "BRITISH BROADCASTING CORPORATION",
          "identifier": {
            "scheme": "GB-COH",
            "id": "NF002275",
            "legalName": "BRITISH BROADCASTING CORPORATION"
          }
        }
      ],
      "buyer": {
        "name": "BRITISH BROADCASTING CORPORATION",
        "id": "c1a91c383cde7e8d5469af1088bfcff2"
      },
      "augmentationMetadata": [
        {
          "id": "buyerAddress",
          "description": "This field points to the augmented values of the buyer address.",
          "generationProcess": "automated",
          "generationMethod": "sn-entity-address",
          "generationMethodDetails": "Enhanced address fields retrieved using geocoding-based reconciliation",
          "references": [
            {
              "id": "parties[?(@.id='c1a91c383cde7e8d5469af1088bfcff2')].address",
              "type": "releasePath",
              "matchDate": "2021-08-05T03:01:48Z"
            }
          ]
        },
        {
          "id": "entityName",
          "description": "This field points to the names of entities which were cleaned by SpendNetwork.",
          "generationProcess": "mixed",
          "generationMethod": "sn-entity-name",
          "generationMethodDetails": "Machine learning-based entity name clustering and reconciliation",
          "references": [
            {
              "id": "parties[?(@.id='c1a91c383cde7e8d5469af1088bfcff2')].identifier",
              "type": "releasePath",
              "matchDate": "2017-11-16T13:52:24Z"
            }
          ]
        },
        {
          "id": "classification",
          "description": "This field points to CPVs in this release which were generated by SpendNetwork.",
          "generationProcess": "automated",
          "generationMethod": "sn-classification",
          "generationMethodDetails": "Deep learning-based document-to-CPV classification",
          "references": [
            {
              "id": "tender.items[?(@.id='sn-augmented-cpvs)].additionalClassifications[?(@.id='63520000')]",
              "type": "releasePath",
              "matchDate": "2021-07-10T04:23:04Z",
              "matchValue": 18.834
            },
            {
              "id": "tender.items[?(@.id='sn-augmented-cpvs)].additionalClassifications[?(@.id='60170000')]",
              "type": "releasePath",
              "matchDate": "2021-07-10T04:23:04Z",
              "matchValue": 13.4942
            },
            {
              "id": "tender.items[?(@.id='sn-augmented-cpvs)].additionalClassifications[?(@.id='63510000')]",
              "type": "releasePath",
              "matchDate": "2021-07-10T04:23:04Z",
              "matchValue": 10.2496
            },
            {
              "id": "tender.items[?(@.id='sn-augmented-cpvs)].additionalClassifications[?(@.id='66510000')]",
              "type": "releasePath",
              "matchDate": "2021-07-10T04:23:04Z",
              "matchValue": 5.5205
            },
            {
              "id": "tender.items[?(@.id='sn-augmented-cpvs)].additionalClassifications[?(@.id='60410000')]",
              "type": "releasePath",
              "matchDate": "2021-07-10T04:23:04Z",
              "matchValue": 4.4654
            }
          ]
        },
        {
          "id": "matchedNotices",
          "description": "This field indicates documents from separate sources that might represent the same notice.",
          "generationProcess": "automated",
          "generationMethod": "sn-matched-notices-1",
          "generationMethodDetails": "",
          "references": [
            {
              "id": "ocds-0c46vo-0005-48272",
              "type": "ocid",
              "matchValue": 93.0,
              "matchDate": "2021-06-05 18:48:44.502261+00:00"
            }
          ]
        }
      ]
    }
```

## Issues

Report issues for this extension in the [ocds-extensions repository](https://github.com/open-contracting/ocds-extensions/issues), putting the extension's name in the issue's title.

## Changelog

### 2021-10-01

* Initial commit
